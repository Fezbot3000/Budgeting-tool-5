<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Budget Planner</title>
    <link rel="stylesheet" href="styles.css">
    <style>
        /* General styles for dark mode */
        body.dark-mode {
            background-color: #121212;
            color: #e0e0e0;
        }

        .container.dark-mode {
            background-color: #1e1e1e;
        }

        /* Accordion arrow styles */
        .arrow.down::before {
            content: '▼';
        }

        .arrow.up::before {
            content: '▲';
        }

        /* Leftover amount styles */
        .leftover {
            color: #999999; /* Grey color for the text */
        }

        .amount.positive {
            color: green;
        }

        .amount.negative {
            color: red;
        }

        /* Mode selector text color */
        select#viewMode {
            color: #e0e0e0; /* Grey color for the text */
        }

        /* Remove box shadow */
        button, .accordion {
            box-shadow: none !important;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>Budget Planner</h1>
        <div id="step1">
            <label for="frequency">Pay Frequency:</label>
            <select id="frequency">
                <option value="weekly">Weekly</option>
                <option value="fortnightly">Fortnightly</option>
                <option value="monthly">Monthly</option>
                <option value="yearly">Yearly</option>
            </select>
            <label for="income">Income:</label>
            <input type="number" id="income">
            <label for="payday">Payday:</label>
            <input type="date" id="payday">
            <button onclick="goToStep2()">Next</button>
        </div>
        <div id="step2" class="hidden">
            <table id="incomeTable"></table>
            <div id="billsTableContainer">
                <h2>Bills</h2>
                <table id="billsTable"></table>
                <button id="addBillButton">Add Bill</button>
            </div>
            <div id="accordionContainer"></div>
            <button id="loadMoreButton">Load More Pay Cycles</button>
            <button id="resetLocalStorageButton">Reset</button>
            <label for="viewMode">View Mode:</label>
            <select id="viewMode" onchange="toggleViewMode()">
                <option value="payCycle">Pay Cycle View</option>
                <option value="monthly">Monthly View</option>
            </select>
        </div>
    </div>

    <!-- Modals -->
    <div id="billModal" class="modal">
        <div class="modal-content">
            <span class="close" id="closeBillModal">&times;</span>
            <form id="billsForm">
                <input type="hidden" id="billIndex">
                <label for="billName">Bill Name:</label>
                <input type="text" id="billName">
                <label for="billAmount">Bill Amount:</label>
                <input type="number" id="billAmount">
                <label for="billFrequency">Bill Frequency:</label>
                <select id="billFrequency">
                    <option value="weekly">Weekly</option>
                    <option value="fortnightly">Fortnightly</option>
                    <option value="monthly">Monthly</option>
                    <option value="yearly">Yearly</option>
                </select>
                <label for="billDate">Bill Date:</label>
                <input type="date" id="billDate">
                <button type="submit" id="submitBill">Add Bill</button>
            </form>
        </div>
    </div>

    <div id="incomeModal" class="modal">
        <div class="modal-content">
            <span class="close" id="closeIncomeModal">&times;</span>
            <form id="incomeForm">
                <label for="editFrequency">Pay Frequency:</label>
                <select id="editFrequency">
                    <option value="weekly">Weekly</option>
                    <option value="fortnightly">Fortnightly</option>
                    <option value="monthly">Monthly</option>
                    <option value="yearly">Yearly</option>
                </select>
                <label for="editIncome">Income:</label>
                <input type="number" id="editIncome">
                <label for="editPayday">Payday:</label>
                <input type="date" id="editPayday">
                <button type="button" onclick="updateIncome()">Update Income</button>
            </form>
        </div>
    </div>

    <canvas id="financialChart"></canvas>

    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="script.js"></script>
</body>
</html>
